{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap 26e042ce020b74550029","external \"whatwg-fetch\"","./src/index.js","./src/core/helpers.js","./src/core/http.js","external \"crypto-js/enc-hex\"","external \"crypto-js/md5\"","external \"lodash-amd/object/merge\"","external \"querystring\"","./src/interfaces/index.js","./src/interfaces/auth.js","./src/interfaces/base.js","./src/interfaces/track.js","./src/interfaces/user.js"],"names":["Client","key","secret","options","session","sessionKey","http","_interfaces","_constructInterfaces","result","Object","keys","forEach","isDefined","value","HttpClient","client","baseUrl","_client","_baseUrl","method","params","authenticated","getSessionKey","signed","Error","_generateSignature","fetch","encode","then","response","json","body","signature","sort","toString","AuthInterface","TrackInterface","UserInterface","auth","track","user","callbackUrl","token","username","password","get","Interface","items","item","i","Array","isArray","length","artist","timestamp","post","scrobbles","nowplaying"],"mappings":"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","file":"lastfm.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"whatwg-fetch\"), require(\"crypto-js/enc-hex\"), require(\"crypto-js/md5\"), require(\"lodash-amd/object/merge\"), require(\"querystring\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"whatwg-fetch\", \"crypto-js/enc-hex\", \"crypto-js/md5\", \"lodash-amd/object/merge\", \"querystring\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lastfm\"] = factory(require(\"whatwg-fetch\"), require(\"crypto-js/enc-hex\"), require(\"crypto-js/md5\"), require(\"lodash-amd/object/merge\"), require(\"querystring\"));\n\telse\n\t\troot[\"lastfm\"] = factory(root[\"whatwg-fetch\"], root[\"crypto-js/enc-hex\"], root[\"crypto-js/md5\"], root[\"lodash-amd/object/merge\"], root[\"querystring\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 26e042ce020b74550029\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"whatwg-fetch\"\n ** module id = 1\n ** module chunks = 0\n **/","import {isDefined} from './core/helpers';\nimport HttpClient from './core/http';\nimport Interfaces from './interfaces';\n\nexport class Client {\n    constructor(key, secret, options) {\n        options = isDefined(options) ? options : {};\n\n        this.key = key || null;\n        this.secret = secret || null;\n\n        this.session = null;\n\n        if(isDefined(options.session)) {\n            this.session = options.session;\n        } else if(isDefined(options.sessionKey)) {\n            this.session = {key: options.sessionKey};\n        }\n\n        // Construct http client\n        this.http = new HttpClient(this);\n\n        // Construct interfaces\n        this._interfaces = this._constructInterfaces();\n    }\n\n    get auth() {\n        return this._interfaces['auth'];\n    }\n\n    get track() {\n        return this._interfaces['track'];\n    }\n\n    get user() {\n        return this._interfaces['user'];\n    }\n\n    getSessionKey() {\n        if(!isDefined(this.session) || !isDefined(this.session.key)) {\n            return null;\n        }\n\n        return this.session.key;\n    }\n\n    _constructInterfaces() {\n        var result = {};\n\n        Object.keys(Interfaces).forEach((key) => {\n            result[key] = new Interfaces[key](this);\n        });\n\n        return result;\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/index.js\n **/","export function isDefined(value) {\r\n    return typeof value !== 'undefined' && value !== null;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/core/helpers.js\n **/","import {isDefined} from './helpers';\r\n\r\nimport hex from 'crypto-js/enc-hex';\r\nimport md5 from 'crypto-js/md5';\r\nimport merge from 'lodash-amd/merge';\r\nimport querystring from 'querystring';\r\n\r\nexport default class HttpClient {\r\n    constructor(client, baseUrl) {\r\n        this._client = client;\r\n        this._baseUrl = baseUrl || 'https://ws.audioscrobbler.com/2.0/';\r\n    }\r\n\r\n    get(method, options) {\r\n        options = merge({\r\n            params: {},\r\n\r\n            authenticated: false,\r\n            sessionKey: this._client.getSessionKey()\r\n        }, options || {});\r\n\r\n        options.signed = isDefined(options.signed) ?\r\n            options.signed :\r\n            options.authenticated;\r\n\r\n        // Set request parameters\r\n        options.params['api_key'] = this._client.key;\r\n        options.params['format'] = 'json';\r\n        options.params['method'] = method;\r\n\r\n        if(options.authenticated) {\r\n            // Add session key\r\n            if(!isDefined(options.sessionKey)) {\r\n                throw new Error('Missing required \"sessionKey\" parameter');\r\n            }\r\n\r\n            options.params['sk'] = options.sessionKey;\r\n        }\r\n\r\n        if(options.signed) {\r\n            // Generate signature\r\n            options.params['api_sig'] = this._generateSignature(options.params);\r\n        }\r\n\r\n        // Send request\r\n        return fetch(\r\n            this._baseUrl + '?' + querystring.encode(options.params)\r\n        ).then(function(response) {\r\n            // TODO check status code\r\n            return response.json();\r\n        });\r\n    }\r\n\r\n    post(method, options) {\r\n        options = merge({\r\n            params: {},\r\n\r\n            authenticated: false,\r\n            sessionKey: this._client.getSessionKey()\r\n        }, options || {});\r\n\r\n        options.signed = isDefined(options.signed) ?\r\n            options.signed :\r\n            options.authenticated;\r\n\r\n        // Set request parameters\r\n        options.params['api_key'] = this._client.key;\r\n        options.params['format'] = 'json';\r\n        options.params['method'] = method;\r\n\r\n        if(options.authenticated) {\r\n            // Add session key\r\n            if(!isDefined(options.sessionKey)) {\r\n                throw new Error('Missing required \"sessionKey\" parameter');\r\n            }\r\n\r\n            options.params['sk'] = options.sessionKey;\r\n        }\r\n\r\n        if(options.signed) {\r\n            // Generate signature\r\n            options.params['api_sig'] = this._generateSignature(options.params);\r\n        }\r\n\r\n        // Send request\r\n        return fetch(this._baseUrl, {\r\n            method: 'POST',\r\n            body: querystring.encode(options.params)\r\n        }).then(function(response) {\r\n            // TODO check status code\r\n            return response.json();\r\n        });\r\n    }\r\n\r\n    _generateSignature(params) {\r\n        var signature = '';\r\n\r\n        // Append parameters\r\n        var value;\r\n\r\n        Object.keys(params).sort().forEach((key) => {\r\n            if(key === 'format') {\r\n                return;\r\n            }\r\n\r\n            // Retrieve value\r\n            value = params[key];\r\n\r\n            if(typeof value === 'undefined' || value === null) {\r\n                value = '';\r\n            }\r\n\r\n            // Append parameter\r\n            signature += key + value;\r\n        });\r\n\r\n        // Append client secret\r\n        signature += this._client.secret;\r\n\r\n        // Generate hash\r\n        return md5(signature).toString(hex);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/core/http.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"crypto-js/enc-hex\"\n ** module id = 5\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"crypto-js/md5\"\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"lodash-amd/object/merge\"\n ** module id = 7\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"querystring\"\n ** module id = 8\n ** module chunks = 0\n **/","import _AuthInterface from './auth';\r\nimport _TrackInterface from './track';\r\nimport _UserInterface from './user';\r\n\r\nexport {_AuthInterface as AuthInterface};\r\nexport {_TrackInterface as TrackInterface};\r\nexport {_UserInterface as UserInterface};\r\n\r\nexport default {\r\n    auth: _AuthInterface,\r\n    track: _TrackInterface,\r\n    user: _UserInterface\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/interfaces/index.js\n **/","import {isDefined} from '../core/helpers';\r\nimport Interface from './base';\r\n\r\nimport querystring from 'querystring';\r\n\r\nexport default class AuthInterface extends Interface {\r\n    getAuthorizeUrl(options) {\r\n        var params = {};\r\n\r\n        options = isDefined(options) ? options : {};\r\n\r\n        // Set parameters\r\n        params['api_key'] = this._client.key;\r\n\r\n        if(isDefined(options.callbackUrl)) {\r\n            params['cb'] = options.callbackUrl;\r\n        }\r\n\r\n        if(isDefined(options.token)) {\r\n            params['token'] = options.token;\r\n        }\r\n\r\n        // Build URL\r\n        return 'https://www.last.fm/api/auth/?' + querystring.encode(params);\r\n    }\r\n\r\n    getMobileSession(username, password) {\r\n        if(!isDefined(username)) {\r\n            throw new Error('Invalid value provided for the \"username\" parameter');\r\n        }\r\n\r\n        if(!isDefined(password)) {\r\n            throw new Error('Invalid value provided for the \"password\" parameter');\r\n        }\r\n\r\n        return this.http.get('auth.getMobileSession', {\r\n            params: {\r\n                username: username,\r\n                password: password\r\n            },\r\n\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.session)) {\r\n                return body.session;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    getSession(token) {\r\n        if(!isDefined(token)) {\r\n            throw new Error('Invalid value provided for the \"token\" parameter');\r\n        }\r\n\r\n        return this.http.get('auth.getSession', {\r\n            params: {\r\n                token: token\r\n            },\r\n\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.session)) {\r\n                return body.session;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    getToken() {\r\n        return this.http.get('auth.getToken', {\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.token)) {\r\n                return body.token;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/interfaces/auth.js\n **/","import {isDefined} from '../core/helpers';\r\n\r\nexport default class Interface {\r\n    constructor(client) {\r\n        this._client = isDefined(client) ? client : null;\r\n    }\r\n\r\n    get http() {\r\n        if(!isDefined(this._client)) {\r\n            return null;\r\n        }\r\n\r\n        return this._client.http;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/interfaces/base.js\n **/","import {isDefined} from '../core/helpers';\r\nimport Interface from './base';\r\n\r\nexport default class TrackInterface extends Interface {\r\n    scrobble(items) {\r\n        var params = {};\r\n        var item;\r\n        var i;\r\n\r\n        if(!isDefined(items) || !Array.isArray(items) || items.length < 1) {\r\n            throw new Error('Invalid value provided for the \"items\" parameter');\r\n        }\r\n\r\n        if(items.length > 50) {\r\n            throw new Error('Exceeded scrobble batch limit, only 50 scrobbles can be sent in a single batch');\r\n        }\r\n\r\n        // Build parameters\r\n        for(i = 0; i < items.length; ++i) {\r\n            item = items[i];\r\n\r\n            // Ensure required parameters have been defined\r\n            if(!isDefined(item.track)) {\r\n                throw new Error('Missing required \"track\" parameter in item #' + i);\r\n            }\r\n\r\n            if(!isDefined(item.artist)) {\r\n                throw new Error('Missing required \"artist\" parameter in item #' + i);\r\n            }\r\n\r\n            if(!isDefined(item.timestamp)) {\r\n                throw new Error('Missing required \"timestamp\" parameter in item #' + i);\r\n            }\r\n\r\n            // Add parameters for each item property\r\n            Object.keys(item).forEach((key) => {\r\n                if(!isDefined(item[key])) {\r\n                    return;\r\n                }\r\n\r\n                params[key + '[' + i + ']'] = item[key];\r\n            });\r\n        }\r\n\r\n        // Send request\r\n        return this.http.post('track.scrobble', {\r\n            params: params,\r\n\r\n            authenticated: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.scrobbles)) {\r\n                return body.scrobbles;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    updateNowPlaying(track, artist, params) {\r\n        if(!isDefined(track)) {\r\n            throw new Error('Invalid value provided for the \"track\" parameter');\r\n        }\r\n\r\n        if(!isDefined(artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" parameter');\r\n        }\r\n\r\n        // Build parameters\r\n        params = isDefined(params) ? params : {};\r\n        params.track = track;\r\n        params.artist = artist;\r\n\r\n        // Send request\r\n        return this.http.post('track.updateNowPlaying', {\r\n            params: params,\r\n\r\n            authenticated: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.nowplaying)) {\r\n                return body.nowplaying;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    love(track, artist) {\r\n        if(!isDefined(track)) {\r\n            throw new Error('Invalid value provided for the \"track\" parameter');\r\n        }\r\n\r\n        if(!isDefined(artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" parameter');\r\n        }\r\n\r\n        throw new Error('Not Implemented');\r\n    }\r\n\r\n    unlove(track, artist) {\r\n        if(!isDefined(track)) {\r\n            throw new Error('Invalid value provided for the \"track\" parameter');\r\n        }\r\n\r\n        if(!isDefined(artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" parameter');\r\n        }\r\n\r\n        throw new Error('Not Implemented');\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/interfaces/track.js\n **/","import {isDefined} from '../core/helpers';\r\nimport Interface from './base';\r\n\r\nexport default class UserInterface extends Interface {\r\n    getInfo(username) {\r\n        var authenticated = true;\r\n        var params = {};\r\n\r\n        if(isDefined(username)) {\r\n            authenticated = false;\r\n            params['user'] = username;\r\n        }\r\n\r\n        // Send request\r\n        return this.http.get('user.getInfo', {\r\n            params: params,\r\n\r\n            authenticated: authenticated\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.user)) {\r\n                return body.user;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ~/eslint-loader!./src/interfaces/user.js\n **/"],"sourceRoot":""}