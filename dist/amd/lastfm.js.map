{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap a4a0e766ec9c4605e8fa","./src/core/helpers.js","./src/interfaces/base.js","./src/core/errors.js","external \"querystring\"","./src/index.js","external \"whatwg-fetch\"","./src/core/http.js","./src/interfaces/auth.js","./src/interfaces/index.js","./src/interfaces/track.js","./src/interfaces/user.js","external \"crypto-js/enc-hex\"","external \"crypto-js/md5\"","external \"lodash-amd/merge\""],"names":["isDefined","value","Interface","client","_client","http","RequestError","response","message","responseCode","status","Error","ApiError","data","code","error","NetworkError","statusText","Client","key","secret","options","session","sessionKey","_interfaces","_constructInterfaces","result","Object","keys","forEach","HttpClient","baseUrl","_baseUrl","method","params","authenticated","getSessionKey","signed","_generateSignature","fetch","encode","then","json","catch","err","ok","Promise","reject","body","signature","sort","toString","AuthInterface","callbackUrl","token","username","password","get","auth","track","user","TrackInterface","items","item","i","Array","isArray","length","artist","timestamp","post","scrobbles","nowplaying","UserInterface"],"mappings":"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","file":"lastfm.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"querystring\"), require(\"whatwg-fetch\"), require(\"crypto-js/enc-hex\"), require(\"crypto-js/md5\"), require(\"lodash-amd/merge\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"querystring\", \"whatwg-fetch\", \"crypto-js/enc-hex\", \"crypto-js/md5\", \"lodash-amd/merge\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"lastfm\"] = factory(require(\"querystring\"), require(\"whatwg-fetch\"), require(\"crypto-js/enc-hex\"), require(\"crypto-js/md5\"), require(\"lodash-amd/merge\"));\n\telse\n\t\troot[\"lastfm\"] = factory(root[\"querystring\"], root[\"whatwg-fetch\"], root[\"crypto-js/enc-hex\"], root[\"crypto-js/md5\"], root[\"lodash-amd/merge\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_11__, __WEBPACK_EXTERNAL_MODULE_12__, __WEBPACK_EXTERNAL_MODULE_13__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a4a0e766ec9c4605e8fa","export function isDefined(value) {\r\n    return typeof value !== 'undefined' && value !== null;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/helpers.js","import {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class Interface {\r\n    constructor(client) {\r\n        this._client = isDefined(client) ? client : null;\r\n    }\r\n\r\n    get http() {\r\n        if(!isDefined(this._client)) {\r\n            return null;\r\n        }\r\n\r\n        return this._client.http;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/base.js","export class RequestError extends Error {\r\n    constructor(response, message) {\r\n        super(message);\r\n\r\n        this.response = response;\r\n        this.responseCode = response.status;\r\n    }\r\n}\r\n\r\nexport class ApiError extends RequestError {\r\n    constructor(response, data) {\r\n        super(response, data.message);\r\n\r\n        this.code = data.error;\r\n    }\r\n}\r\n\r\nexport class NetworkError extends RequestError {\r\n    constructor(response) {\r\n        super(response, response.statusText || 'Unknown Error');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/errors.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"querystring\"\n// module id = 3\n// module chunks = 0","import HttpClient from './core/http';\nimport Interfaces from './interfaces';\nimport {isDefined} from './core/helpers';\n\n\nexport {ApiError, NetworkError} from './core/errors';\n\nexport class Client {\n    constructor(key, secret, options) {\n        options = isDefined(options) ? options : {};\n\n        this.key = key || null;\n        this.secret = secret || null;\n\n        this.session = null;\n\n        if(isDefined(options.session)) {\n            this.session = options.session;\n        } else if(isDefined(options.sessionKey)) {\n            this.session = {key: options.sessionKey};\n        }\n\n        // Construct http client\n        this.http = new HttpClient(this);\n\n        // Construct interfaces\n        this._interfaces = this._constructInterfaces();\n    }\n\n    get auth() {\n        return this._interfaces['auth'];\n    }\n\n    get track() {\n        return this._interfaces['track'];\n    }\n\n    get user() {\n        return this._interfaces['user'];\n    }\n\n    getSessionKey() {\n        if(!isDefined(this.session) || !isDefined(this.session.key)) {\n            return null;\n        }\n\n        return this.session.key;\n    }\n\n    _constructInterfaces() {\n        var result = {};\n\n        Object.keys(Interfaces).forEach((key) => {\n            result[key] = new Interfaces[key](this);\n        });\n\n        return result;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"whatwg-fetch\"\n// module id = 5\n// module chunks = 0","import Hex from 'crypto-js/enc-hex';\r\nimport Md5 from 'crypto-js/md5';\r\nimport Merge from 'lodash-amd/merge';\r\nimport QueryString from 'querystring';\r\n\r\nimport {ApiError, NetworkError} from './errors';\r\nimport {isDefined} from './helpers';\r\n\r\n\r\nexport default class HttpClient {\r\n    constructor(client, baseUrl) {\r\n        this._client = client;\r\n        this._baseUrl = baseUrl || 'https://ws.audioscrobbler.com/2.0/';\r\n    }\r\n\r\n    get(method, options) {\r\n        options = Merge({\r\n            params: {},\r\n\r\n            authenticated: false,\r\n            sessionKey: this._client.getSessionKey()\r\n        }, options || {});\r\n\r\n        options.signed = isDefined(options.signed) ?\r\n            options.signed :\r\n            options.authenticated;\r\n\r\n        // Set request parameters\r\n        options.params['api_key'] = this._client.key;\r\n        options.params['format'] = 'json';\r\n        options.params['method'] = method;\r\n\r\n        if(options.authenticated) {\r\n            // Add session key\r\n            if(!isDefined(options.sessionKey)) {\r\n                throw new Error('Missing required \"sessionKey\" parameter');\r\n            }\r\n\r\n            options.params['sk'] = options.sessionKey;\r\n        }\r\n\r\n        if(options.signed) {\r\n            // Generate signature\r\n            options.params['api_sig'] = this._generateSignature(options.params);\r\n        }\r\n\r\n        // Send request\r\n        return fetch(\r\n            this._baseUrl + '?' + QueryString.encode(options.params)\r\n        ).then(function(response) {\r\n            return response.json().catch((err) => {\r\n                if(!response.ok) {\r\n                    throw new NetworkError(response);\r\n                }\r\n\r\n                return Promise.reject(err);\r\n            }).then((data) => {\r\n                if(!response.ok) {\r\n                    throw new ApiError(response, data);\r\n                }\r\n\r\n                return data;\r\n            });\r\n        });\r\n    }\r\n\r\n    post(method, options) {\r\n        options = Merge({\r\n            params: {},\r\n\r\n            authenticated: false,\r\n            sessionKey: this._client.getSessionKey()\r\n        }, options || {});\r\n\r\n        options.signed = isDefined(options.signed) ?\r\n            options.signed :\r\n            options.authenticated;\r\n\r\n        // Set request parameters\r\n        options.params['api_key'] = this._client.key;\r\n        options.params['format'] = 'json';\r\n        options.params['method'] = method;\r\n\r\n        if(options.authenticated) {\r\n            // Add session key\r\n            if(!isDefined(options.sessionKey)) {\r\n                throw new Error('Missing required \"sessionKey\" parameter');\r\n            }\r\n\r\n            options.params['sk'] = options.sessionKey;\r\n        }\r\n\r\n        if(options.signed) {\r\n            // Generate signature\r\n            options.params['api_sig'] = this._generateSignature(options.params);\r\n        }\r\n\r\n        // Send request\r\n        return fetch(this._baseUrl, {\r\n            method: 'POST',\r\n            body: QueryString.encode(options.params)\r\n        }).then(function(response) {\r\n            return response.json().then((data) => {\r\n                if(!response.ok) {\r\n                    throw new ApiError(response, data);\r\n                }\r\n\r\n                return data;\r\n            }).catch((err) => {\r\n                if(!response.ok) {\r\n                    throw new NetworkError(response);\r\n                }\r\n\r\n                return Promise.reject(err);\r\n            });\r\n        });\r\n    }\r\n\r\n    _generateSignature(params) {\r\n        var signature = '';\r\n\r\n        // Append parameters\r\n        var value;\r\n\r\n        Object.keys(params).sort().forEach((key) => {\r\n            if(key === 'format') {\r\n                return;\r\n            }\r\n\r\n            // Retrieve value\r\n            value = params[key];\r\n\r\n            if(typeof value === 'undefined' || value === null) {\r\n                value = '';\r\n            }\r\n\r\n            // Append parameter\r\n            signature += key + value;\r\n        });\r\n\r\n        // Append client secret\r\n        signature += this._client.secret;\r\n\r\n        // Generate hash\r\n        return Md5(signature).toString(Hex);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/http.js","import QueryString from 'querystring';\r\n\r\nimport Interface from './base';\r\nimport {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class AuthInterface extends Interface {\r\n    getAuthorizeUrl(options) {\r\n        var params = {};\r\n\r\n        options = isDefined(options) ? options : {};\r\n\r\n        // Set parameters\r\n        params['api_key'] = this._client.key;\r\n\r\n        if(isDefined(options.callbackUrl)) {\r\n            params['cb'] = options.callbackUrl;\r\n        }\r\n\r\n        if(isDefined(options.token)) {\r\n            params['token'] = options.token;\r\n        }\r\n\r\n        // Build URL\r\n        return 'https://www.last.fm/api/auth/?' + QueryString.encode(params);\r\n    }\r\n\r\n    getMobileSession(username, password) {\r\n        if(!isDefined(username)) {\r\n            throw new Error('Invalid value provided for the \"username\" parameter');\r\n        }\r\n\r\n        if(!isDefined(password)) {\r\n            throw new Error('Invalid value provided for the \"password\" parameter');\r\n        }\r\n\r\n        return this.http.get('auth.getMobileSession', {\r\n            params: {\r\n                username: username,\r\n                password: password\r\n            },\r\n\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.session)) {\r\n                return body.session;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    getSession(token) {\r\n        if(!isDefined(token)) {\r\n            throw new Error('Invalid value provided for the \"token\" parameter');\r\n        }\r\n\r\n        return this.http.get('auth.getSession', {\r\n            params: {\r\n                token: token\r\n            },\r\n\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.session)) {\r\n                return body.session;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    getToken() {\r\n        return this.http.get('auth.getToken', {\r\n            signed: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.token)) {\r\n                return body.token;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/auth.js","import _AuthInterface from './auth';\r\nimport _TrackInterface from './track';\r\nimport _UserInterface from './user';\r\n\r\n\r\nexport {_AuthInterface as AuthInterface};\r\nexport {_TrackInterface as TrackInterface};\r\nexport {_UserInterface as UserInterface};\r\n\r\nexport default {\r\n    auth: _AuthInterface,\r\n    track: _TrackInterface,\r\n    user: _UserInterface\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/index.js","import Interface from './base';\r\nimport {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class TrackInterface extends Interface {\r\n    scrobble(items) {\r\n        var params = {};\r\n        var item;\r\n        var i;\r\n\r\n        if(!isDefined(items) || !Array.isArray(items) || items.length < 1) {\r\n            throw new Error('Invalid value provided for the \"items\" parameter');\r\n        }\r\n\r\n        if(items.length > 50) {\r\n            throw new Error('Exceeded scrobble batch limit, only 50 scrobbles can be sent in a single batch');\r\n        }\r\n\r\n        // Build parameters\r\n        for(i = 0; i < items.length; ++i) {\r\n            item = items[i];\r\n\r\n            // Ensure required parameters have been defined\r\n            if(!isDefined(item.track)) {\r\n                throw new Error('Missing required \"track\" parameter in item #' + i);\r\n            }\r\n\r\n            if(!isDefined(item.artist)) {\r\n                throw new Error('Missing required \"artist\" parameter in item #' + i);\r\n            }\r\n\r\n            if(!isDefined(item.timestamp)) {\r\n                throw new Error('Missing required \"timestamp\" parameter in item #' + i);\r\n            }\r\n\r\n            // Add parameters for each item property\r\n            Object.keys(item).forEach((key) => {\r\n                if(!isDefined(item[key])) {\r\n                    return;\r\n                }\r\n\r\n                params[key + '[' + i + ']'] = item[key];\r\n            });\r\n        }\r\n\r\n        // Send request\r\n        return this.http.post('track.scrobble', {\r\n            params: params,\r\n\r\n            authenticated: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.scrobbles)) {\r\n                return body.scrobbles;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    updateNowPlaying(item) {\r\n        if(!isDefined(item)) {\r\n            throw new Error('Invalid value provided for the \"item\" parameter');\r\n        }\r\n\r\n        if(!isDefined(item.track)) {\r\n            throw new Error('Invalid value provided for the \"track\" property in the \"item\" object');\r\n        }\r\n\r\n        if(!isDefined(item.artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" property in the \"item\" object');\r\n        }\r\n\r\n        // Send request\r\n        return this.http.post('track.updateNowPlaying', {\r\n            params: item,\r\n\r\n            authenticated: true\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.nowplaying)) {\r\n                return body.nowplaying;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n\r\n    love(track, artist) {\r\n        if(!isDefined(track)) {\r\n            throw new Error('Invalid value provided for the \"track\" parameter');\r\n        }\r\n\r\n        if(!isDefined(artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" parameter');\r\n        }\r\n\r\n        throw new Error('Not Implemented');\r\n    }\r\n\r\n    unlove(track, artist) {\r\n        if(!isDefined(track)) {\r\n            throw new Error('Invalid value provided for the \"track\" parameter');\r\n        }\r\n\r\n        if(!isDefined(artist)) {\r\n            throw new Error('Invalid value provided for the \"artist\" parameter');\r\n        }\r\n\r\n        throw new Error('Not Implemented');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/track.js","import Interface from './base';\r\nimport {isDefined} from '../core/helpers';\r\n\r\n\r\nexport default class UserInterface extends Interface {\r\n    getInfo(username) {\r\n        var authenticated = true;\r\n        var params = {};\r\n\r\n        if(isDefined(username)) {\r\n            authenticated = false;\r\n            params['user'] = username;\r\n        }\r\n\r\n        // Send request\r\n        return this.http.get('user.getInfo', {\r\n            params: params,\r\n\r\n            authenticated: authenticated\r\n        }).then(function(body) {\r\n            if(isDefined(body) && isDefined(body.user)) {\r\n                return body.user;\r\n            }\r\n\r\n            return null;\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/interfaces/user.js","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/enc-hex\"\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"crypto-js/md5\"\n// module id = 12\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash-amd/merge\"\n// module id = 13\n// module chunks = 0"],"sourceRoot":""}